<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.队列结构</title>
</head>
<body>
    <script>
        //#region 
        function Queue(){
            // 属性
            this.items = []

            // 方法
            // 入队
            Queue.prototype.enqueue = element =>{
                this.items.push(element)
            }
            // 出队
            Queue.prototype.dequeue = () =>{
                return this.items.shift()
            }
            // 查看队首元素
            Queue.prototype.front = ()=>{
                return this.items[0]
            }
            // 是否为空
            Queue.prototype.isEmpty = ()=>{
                return this.items.length == 0
            }
            // 元素个数
            Queue.prototype.size =() =>{
                return this.items.length
            }
            // 将队列中元素以字符串形式输出
            Queue.prototype.toString = () =>{
                let resultString = ''
                for (let i of this.items){
                    resultString +=  i + ' '
                }
                return resultString
            }
        }

        // let queue = new Queue();
        // queue.enqueue('a')
        
        // queue.enqueue('b')

        // queue.enqueue('c')

        // queue.enqueue('d')
        // alert(queue)

        // // 队列删除元素
        // queue.dequeue()
        // console.log(queue)
        // queue.dequeue()
        // console.log(queue)

        // // front
        // console.log(queue.front())

        // // 验证其他方法
        // console.log(queue.isEmpty())
        // console.log(queue.size())
        // console.log(queue.toString())
        //#endregion
        // 击鼓传花
        let passGame = (nameList, num) =>{
            // 创建队列结构
            let queue = new Queue();

            // 将所有人加入队列
            for (let i of nameList){
                queue.enqueue(i)
            }

            // 开始数数
            while(queue.size() > 1){
                for (let i = 0; i < num -1 ; i++){
                    queue.enqueue(queue.dequeue())
                }
                queue.dequeue()
            }

            // 获取剩下那个人
            console.log(queue.size())
            let endName = queue.front();
            console.log('最终剩下的人' + endName)

            return nameList.indexOf(endName);
        }

        let names = ['lily', 'lucy', 'Tom', 'Lilei', 'Tony']
        console.log(passGame(names, 3))
    </script>
</body>
</html>